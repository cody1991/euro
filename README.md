# æ¬§æ´²æ—…æ¸¸è§„åˆ’ç½‘ç«™

## é¡¹ç›®ä»‹ç»

è¿™æ˜¯ä¸€ä¸ªæ¬§æ´²æ—…æ¸¸è§„åˆ’ç½‘ç«™ï¼Œå¸®åŠ©ç”¨æˆ·è§„åˆ’ä»æ­¦æ±‰å‡ºå‘çš„ 20 å¤©æ¬§æ´²ä¹‹æ—…ã€‚ç½‘ç«™åŒ…å«å®Œæ•´çš„å‰åç«¯ï¼Œæä¾›åœ°å›¾æ˜¾ç¤ºã€æ™¯ç‚¹æ¨èã€äº¤é€šè§„åˆ’ç­‰åŠŸèƒ½ã€‚

## æŠ€æœ¯æ ˆ

- **å‰ç«¯**: React + TypeScript + Leaflet
- **åç«¯**: Node.js + Express
- **æ•°æ®åº“**: 
  - **æœ¬åœ°å¼€å‘**: SQLite (æ–¹ä¾¿è°ƒè¯•)
  - **ç”Ÿäº§ç¯å¢ƒ**: Supabase (PostgreSQL)
- **éƒ¨ç½²**: Vercel
- **å¼€å‘å·¥å…·**: çƒ­æ›´æ–°ã€å¹¶å‘è¿è¡Œ

## åŠŸèƒ½ç‰¹æ€§

- ğŸ—ºï¸ **ä¸–ç•Œåœ°å›¾æ˜¾ç¤º**: ä½¿ç”¨ Leaflet æ˜¾ç¤ºæ¬§æ´²åœ°å›¾
- ğŸ›ï¸ **æ™¯ç‚¹æ¨è**: æ¯ä¸ªåŸå¸‚ç²¾é€‰ 3-5 ä¸ªå¿…æ¸¸æ™¯ç‚¹
- ğŸš„ **äº¤é€šè§„åˆ’**: é£æœºã€ç«è½¦ã€æ±½è½¦ç­‰äº¤é€šæ–¹å¼
- âœï¸ **è¡Œç¨‹ç¼–è¾‘**: å¯ç¼–è¾‘æ™¯ç‚¹ä¿¡æ¯å’Œè¡Œç¨‹å®‰æ’
- ğŸ“± **å“åº”å¼è®¾è®¡**: æ”¯æŒæ¡Œé¢å’Œç§»åŠ¨è®¾å¤‡

## è¡Œç¨‹æ¦‚è§ˆ

**2024 å¹´æ¬§æ´² 20 å¤©ä¹‹æ—…** (2024-02-09 è‡³ 2024-03-04)

- ğŸ‡³ğŸ‡± **è·å…°**: é˜¿å§†æ–¯ç‰¹ä¸¹ (æ¢µé«˜åšç‰©é¦†ã€å®‰å¦®ä¹‹å®¶ã€è¿æ²³åŒº)
- ğŸ‡«ğŸ‡· **æ³•å›½**: å·´é» (åŸƒè²å°”é“å¡”ã€å¢æµ®å®«ã€åœ£æ¯é™¢)
- ğŸ‡«ğŸ‡· **å—æ³•**: å°¼æ–¯ã€æˆ›çº³ã€æ‘©çº³å“¥ (å¤©ä½¿æ¹¾ã€æˆ›çº³ç”µå½±èŠ‚å®«ã€è’™ç‰¹å¡æ´›èµŒåœº)
- ğŸ‡®ğŸ‡¹ **æ„å¤§åˆ©**: ç±³å…°ã€ä½›ç½—ä¼¦è¨ã€å¨å°¼æ–¯ã€äº”æ¸”æ‘ã€æ¯”è¨ã€é‚£ä¸å‹’æ–¯ã€ç½—é©¬
- ğŸ‡­ğŸ‡º **åŒˆç‰™åˆ©**: å¸ƒè¾¾ä½©æ–¯ (å¸ƒè¾¾åŸå ¡ã€å›½ä¼šå¤§å¦ã€æ¸©æ³‰æµ´åœº)

## åœ¨çº¿è®¿é—®

- **ç”Ÿäº§ç¯å¢ƒ**: https://euro-lilac.vercel.app
- **åœ°å›¾é¡µé¢**: https://euro-lilac.vercel.app/map
- **è¡Œç¨‹è¯¦æƒ…**: https://euro-lilac.vercel.app/itinerary/1
- **è¡Œç¨‹æ€»ç»“**: https://euro-lilac.vercel.app/summary

## æœ¬åœ°å¼€å‘

### ç¯å¢ƒè¦æ±‚

- Node.js 16+
- npm æˆ– yarn
- Supabase è´¦å·ï¼ˆç”¨äºæ•°æ®åº“ï¼‰

### ç¯å¢ƒå˜é‡è®¾ç½®

**æœ¬åœ°å¼€å‘ï¼ˆSQLiteï¼‰**ï¼šæ— éœ€ç¯å¢ƒå˜é‡ï¼Œç›´æ¥ä½¿ç”¨SQLiteæ•°æ®åº“

**ç”Ÿäº§ç¯å¢ƒï¼ˆSupabaseï¼‰**ï¼šåœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º `.env` æ–‡ä»¶ï¼š

```bash
SUPABASE_URL=your_supabase_url
SUPABASE_ANON_KEY=your_supabase_anon_key
```

### å®‰è£…ä¾èµ–

```bash
# å®‰è£…æ ¹ç›®å½•å’Œå®¢æˆ·ç«¯ä¾èµ–
npm run install-all
```

### å¼€å‘æ¨¡å¼

```bash
# æœ¬åœ°å¼€å‘ï¼ˆSQLiteï¼‰- æ¨è
npm run dev

# ä½¿ç”¨Supabaseå¼€å‘
npm run dev:supabase
```

### å•ç‹¬è¿è¡Œ

```bash
# æœ¬åœ°SQLiteåç«¯
npm run server:local

# Supabaseåç«¯
npm run server:supabase

# å‰ç«¯
npm run client
```

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
npm run build
```

## æœ¬åœ°è®¿é—®åœ°å€

- **å‰ç«¯**: http://localhost:3000
- **åç«¯ API**: http://localhost:5001/api
- **åœ°å›¾é¡µé¢**: http://localhost:3000/map
- **è¡Œç¨‹è¯¦æƒ…**: http://localhost:3000/itinerary/1
- **å¥åº·æ£€æŸ¥**: http://localhost:5001/api/health

## é¡¹ç›®ç»“æ„

```
europe-travel-planner/
â”œâ”€â”€ client/                    # React å‰ç«¯åº”ç”¨
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/        # ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ pages/            # é¡µé¢
â”‚   â”‚   â”œâ”€â”€ services/         # API æœåŠ¡
â”‚   â”‚   â””â”€â”€ types/            # TypeScript ç±»å‹
â”‚   â””â”€â”€ public/               # é™æ€èµ„æº
â”œâ”€â”€ server/                   # Node.js åç«¯
â”‚   â”œâ”€â”€ index-sqlite.js       # æœ¬åœ°SQLiteæœåŠ¡å™¨
â”‚   â”œâ”€â”€ index-supabase-rest.js # ç”Ÿäº§SupabaseæœåŠ¡å™¨
â”‚   â”œâ”€â”€ data-manager.js       # æ•°æ®ç®¡ç†å·¥å…·
â”‚   â””â”€â”€ schema-manager.js     # è¡¨ç»“æ„ç®¡ç†å·¥å…·
â”œâ”€â”€ vercel.json              # Vercel éƒ¨ç½²é…ç½®
â”œâ”€â”€ package.json             # æ ¹ç›®å½•ä¾èµ–
â”œâ”€â”€ DATABASE_MANAGEMENT.md   # æ•°æ®åº“ç®¡ç†æŒ‡å—
â”œâ”€â”€ SCHEMA_MANAGEMENT.md     # è¡¨ç»“æ„ç®¡ç†æŒ‡å—
â””â”€â”€ README.md                # é¡¹ç›®è¯´æ˜
```

## API æ¥å£

### åŸºç¡€æ¥å£
- `GET /api/itineraries` - è·å–æ‰€æœ‰è¡Œç¨‹
- `GET /api/itineraries/:id` - è·å–ç‰¹å®šè¡Œç¨‹
- `GET /api/cities` - è·å–åŸå¸‚åˆ—è¡¨
- `GET /api/attractions` - è·å–æ™¯ç‚¹åˆ—è¡¨
- `GET /api/transportation` - è·å–äº¤é€šä¿¡æ¯

### æ•°æ®ç®¡ç†æ¥å£
- `GET /api/data-stats` - è·å–æ•°æ®ç»Ÿè®¡
- `POST /api/cities` - æ·»åŠ æ–°åŸå¸‚
- `POST /api/attractions` - æ·»åŠ æ–°æ™¯ç‚¹
- `POST /api/transportation` - æ·»åŠ æ–°äº¤é€š
- `POST /api/batch-update` - æ‰¹é‡æ›´æ–°æ•°æ®

### è¡¨ç»“æ„ç®¡ç†æ¥å£
- `GET /api/schema/tables` - è·å–æ‰€æœ‰è¡¨ä¿¡æ¯
- `GET /api/schema/table/:tableName` - è·å–è¡¨ç»“æ„
- `GET /api/schema/validate` - éªŒè¯è¡¨ç»“æ„
- `POST /api/schema/add-column` - æ·»åŠ æ–°å­—æ®µ
- `POST /api/schema/create-table` - åˆ›å»ºæ–°è¡¨

## å¼€å‘è¯´æ˜

- ä½¿ç”¨ `concurrently` åŒæ—¶è¿è¡Œå‰åç«¯
- å‰ç«¯æ”¯æŒçƒ­æ›´æ–°ï¼Œä¿®æ”¹ä»£ç è‡ªåŠ¨åˆ·æ–°
- åç«¯ä½¿ç”¨ `nodemon` è‡ªåŠ¨é‡å¯
- **æœ¬åœ°å¼€å‘**: SQLite æ•°æ®åº“ï¼Œæ— éœ€é…ç½®
- **ç”Ÿäº§ç¯å¢ƒ**: Supabase (PostgreSQL)ï¼Œäº‘ç«¯å­˜å‚¨

## æ•°æ®è¯´æ˜

- **æœ¬åœ°å¼€å‘**: SQLite æ•°æ®åº“æ–‡ä»¶ (`server/travel_planner.db`)
- **ç”Ÿäº§ç¯å¢ƒ**: Supabase (PostgreSQL)
- æ•°æ®åˆå§‹åŒ–ï¼šæœåŠ¡å™¨å¯åŠ¨æ—¶è‡ªåŠ¨åˆå§‹åŒ–
- åŒ…å«å®Œæ•´çš„ 20 å¤©è¡Œç¨‹æ•°æ®
- æ”¯æŒæ™¯ç‚¹ã€äº¤é€šã€åŸå¸‚ä¿¡æ¯ç®¡ç†
- æ”¯æŒæ•°æ®å˜æ›´å’Œè¡¨ç»“æ„ä¿®æ”¹

## å¼€å‘ä¼˜åŠ¿

### æœ¬åœ°å¼€å‘ (SQLite)
- âœ… **æ— éœ€é…ç½®**: ç›´æ¥è¿è¡Œï¼Œæ— éœ€ç¯å¢ƒå˜é‡
- âœ… **å¿«é€Ÿè°ƒè¯•**: æ•°æ®ä¿®æ”¹ç«‹å³ç”Ÿæ•ˆ
- âœ… **ç¦»çº¿å¼€å‘**: æ— éœ€ç½‘ç»œè¿æ¥
- âœ… **æ•°æ®å®‰å…¨**: æœ¬åœ°å­˜å‚¨ï¼Œä¸ä¼šå½±å“ç”Ÿäº§æ•°æ®

### ç”Ÿäº§ç¯å¢ƒ (Supabase)
- âœ… **æ•°æ®æŒä¹…åŒ–**: é‡æ–°éƒ¨ç½²ä¸ä¼šä¸¢å¤±æ•°æ®
- âœ… **äº‘ç«¯è®¿é—®**: æ”¯æŒå¤šè®¾å¤‡è®¿é—®
- âœ… **è‡ªåŠ¨å¤‡ä»½**: Supabase è‡ªåŠ¨å¤‡ä»½æ•°æ®
- âœ… **æ‰©å±•æ€§**: æ”¯æŒå¤§é‡æ•°æ®å’Œå¹¶å‘è®¿é—®

## éƒ¨ç½²è¯´æ˜

- **å¹³å°**: Vercel
- **æ•°æ®åº“**: Supabase
- **è‡ªåŠ¨éƒ¨ç½²**: æ¨é€åˆ° GitHub ä¸»åˆ†æ”¯è‡ªåŠ¨éƒ¨ç½²
- **ç¯å¢ƒå˜é‡**: åœ¨ Vercel æ§åˆ¶å°è®¾ç½® Supabase ç›¸å…³å˜é‡

## è®¸å¯è¯

MIT License
